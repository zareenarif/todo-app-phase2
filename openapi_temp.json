{"openapi":"3.1.0","info":{"title":"Todo Full-Stack Web Application API","description":"RESTful JSON API for managing user tasks with JWT authentication","version":"2.0.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register","description":"Register a new user.\n\nCreates a new user account and returns an access token.","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"Login with email and password.\n\nReturns an access token for authenticated requests.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["auth"],"summary":"Get Current User","description":"Get current user info.","operationId":"get_current_user_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/tasks":{"get":{"tags":["tasks"],"summary":"List Tasks","description":"List all tasks for the authenticated user with optional filtering and sorting.\n\n- **status**: Filter by 'pending' (not completed) or 'completed'\n- **priority**: Filter by 'high', 'medium', or 'low'\n- **tags**: Filter by tags (comma-separated, matches ANY tag)\n- **sort**: Sort by field (created_at, due_date, priority, title)\n- **order**: Sort order (asc or desc)\n\nReturns list of tasks owned by the authenticated user.","operationId":"list_tasks_api_v1_tasks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by completion status: 'pending' or 'completed'","title":"Status"},"description":"Filter by completion status: 'pending' or 'completed'"},{"name":"priority","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/PriorityEnum"},{"type":"null"}],"description":"Filter by priority: 'high', 'medium', or 'low'","title":"Priority"},"description":"Filter by priority: 'high', 'medium', or 'low'"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by tags (comma-separated)","title":"Tags"},"description":"Filter by tags (comma-separated)"},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort field: 'created_at', 'due_date', 'priority', or 'title'","default":"created_at","title":"Sort"},"description":"Sort field: 'created_at', 'due_date', 'priority', or 'title'"},{"name":"order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort order: 'asc' or 'desc'","default":"desc","title":"Order"},"description":"Sort order: 'asc' or 'desc'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskResponse"},"title":"Response List Tasks Api V1 Tasks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tasks"],"summary":"Create Task","description":"Create a new task for the authenticated user.\n\nAutomatically assigns the task to the authenticated user (user_id from JWT).\n\n- **task_data**: Task creation data (title required, other fields optional)\n\nReturns:\n- 201: Created task with assigned ID and timestamps\n- 400: Bad request if validation fails\n- 401: Unauthorized if JWT is invalid","operationId":"create_task_api_v1_tasks_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get Task","description":"Get a single task by ID.\n\nVerifies ownership: users can only access their own tasks.\n\n- **task_id**: UUID of the task to retrieve\n\nReturns:\n- 200: Task details\n- 403: Forbidden if task belongs to another user\n- 404: Not found if task doesn't exist","operationId":"get_task_api_v1_tasks__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["tasks"],"summary":"Update Task","description":"Update an existing task.\n\nVerifies ownership: users can only update their own tasks.\nOnly provided fields are updated (partial update).\n\n- **task_id**: UUID of the task to update\n- **task_data**: Partial task data to update\n\nReturns:\n- 200: Updated task\n- 400: Bad request if validation fails\n- 401: Unauthorized if JWT is invalid\n- 403: Forbidden if task belongs to another user\n- 404: Not found if task doesn't exist","operationId":"update_task_api_v1_tasks__task_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["tasks"],"summary":"Delete Task","description":"Delete a task.\n\nVerifies ownership: users can only delete their own tasks.\n\n- **task_id**: UUID of the task to delete\n\nReturns:\n- 204: No content (task successfully deleted)\n- 401: Unauthorized if JWT is invalid\n- 403: Forbidden if task belongs to another user\n- 404: Not found if task doesn't exist","operationId":"delete_task_api_v1_tasks__task_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tasks/{task_id}/complete":{"patch":{"tags":["tasks"],"summary":"Toggle Task Completion","description":"Toggle task completion status.\n\nFlips the completed field between True and False.\nVerifies ownership: users can only toggle their own tasks.\n\n- **task_id**: UUID of the task to toggle\n\nReturns:\n- 200: Updated task with toggled completion status\n- 401: Unauthorized if JWT is invalid\n- 403: Forbidden if task belongs to another user\n- 404: Not found if task doesn't exist","operationId":"toggle_task_completion_api_v1_tasks__task_id__complete_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/prioritize":{"post":{"tags":["agents"],"summary":"Prioritize Tasks","description":"Use AI to analyze and suggest task priorities.\n\n- **task_ids**: List of task IDs to prioritize\n- **context**: Optional context about user's goals/situation\n\nReturns priority recommendations for each task.","operationId":"prioritize_tasks_api_v1_agents_prioritize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrioritizeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrioritizeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/agents/decompose":{"post":{"tags":["agents"],"summary":"Decompose Task","description":"Use AI to break down a task into subtasks.\n\n- **task_id**: ID of the task to decompose\n- **max_subtasks**: Maximum number of subtasks (1-20)\n- **detail_level**: brief, medium, or detailed\n\nReturns list of suggested subtasks.","operationId":"decompose_task_api_v1_agents_decompose_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecomposeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecomposeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/agents/chat":{"post":{"tags":["agents"],"summary":"Chat With Agent","description":"Chat with an AI agent about tasks.\n\n- **message**: User's message\n- **agent_type**: Type of agent to use\n\nReturns agent's response.","operationId":"chat_with_agent_api_v1_agents_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/agents/logs":{"get":{"tags":["agents"],"summary":"Get Agent Logs","description":"Get recent agent execution logs.\n\n- **limit**: Maximum number of logs to return (default: 20)\n\nReturns list of recent agent interactions.","operationId":"get_agent_logs_api_v1_agents_logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AgentLogResponse"},"title":"Response Get Agent Logs Api V1 Agents Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/health":{"get":{"tags":["agents"],"summary":"Check Llm Health","description":"Check LLM provider health status.\n\nReturns status of primary and fallback LLM providers.","operationId":"check_llm_health_api_v1_agents_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckResponse"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint - health check.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AgentLogResponse":{"properties":{"id":{"type":"string","title":"Id"},"agent_type":{"type":"string","title":"Agent Type"},"status":{"type":"string","title":"Status"},"input_summary":{"type":"string","title":"Input Summary"},"output_summary":{"type":"string","title":"Output Summary"},"execution_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Execution Time Ms"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","agent_type","status","input_summary","output_summary","execution_time_ms","created_at"],"title":"AgentLogResponse","description":"Agent log entry response."},"AgentTypeEnum":{"type":"string","enum":["prioritizer","decomposer","scheduler","reminder","chat"],"title":"AgentTypeEnum","description":"Types of AI agents."},"AuthResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"type":"object","title":"User"}},"type":"object","required":["access_token","user"],"title":"AuthResponse"},"ChatRequest":{"properties":{"message":{"type":"string","maxLength":2000,"minLength":1,"title":"Message","description":"User message"},"agent_type":{"allOf":[{"$ref":"#/components/schemas/AgentTypeEnum"}],"description":"Agent to use","default":"chat"}},"type":"object","required":["message"],"title":"ChatRequest","description":"Request for agent chat interaction."},"ChatResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"agent_type":{"$ref":"#/components/schemas/AgentTypeEnum"}},"type":"object","required":["success","message","agent_type"],"title":"ChatResponse","description":"Response from chat agent."},"DecomposeRequest":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"ID of task to decompose"},"max_subtasks":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Subtasks","description":"Maximum subtasks to generate","default":10},"detail_level":{"type":"string","title":"Detail Level","description":"Detail level: brief, medium, or detailed","default":"medium"}},"type":"object","required":["task_id"],"title":"DecomposeRequest","description":"Request to decompose a task into subtasks."},"DecomposeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"parent_task_id":{"type":"string","title":"Parent Task Id"},"subtasks":{"items":{"$ref":"#/components/schemas/SubtaskRecommendation"},"type":"array","title":"Subtasks"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","parent_task_id","subtasks","message"],"title":"DecomposeResponse","description":"Response from decomposition agent."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckResponse":{"properties":{"primary":{"type":"object","title":"Primary"},"fallback":{"type":"object","title":"Fallback"}},"type":"object","required":["primary","fallback"],"title":"HealthCheckResponse","description":"LLM health check response."},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"PrioritizeRequest":{"properties":{"task_ids":{"items":{"type":"string"},"type":"array","title":"Task Ids","description":"List of task IDs to prioritize"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context","description":"Additional context for prioritization"}},"type":"object","required":["task_ids"],"title":"PrioritizeRequest","description":"Request to prioritize tasks."},"PrioritizeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"priorities":{"items":{"$ref":"#/components/schemas/PriorityRecommendation"},"type":"array","title":"Priorities"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","priorities","message"],"title":"PrioritizeResponse","description":"Response from prioritization agent."},"PriorityEnum":{"type":"string","enum":["high","medium","low"],"title":"PriorityEnum","description":"Task priority levels."},"PriorityRecommendation":{"properties":{"task_id":{"type":"string","title":"Task Id"},"priority":{"type":"string","title":"Priority"},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["task_id","priority","reason"],"title":"PriorityRecommendation","description":"Priority recommendation for a single task."},"RecurrenceEnum":{"type":"string","enum":["daily","weekly","monthly"],"title":"RecurrenceEnum","description":"Task recurrence patterns."},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["email","password"],"title":"RegisterRequest"},"SubtaskRecommendation":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","default":""},"priority":{"type":"string","title":"Priority","default":"medium"},"effort":{"type":"string","title":"Effort","default":"medium"}},"type":"object","required":["title"],"title":"SubtaskRecommendation","description":"Subtask recommendation."},"TaskCreate":{"properties":{"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title","description":"Task title (required)"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description","description":"Task description (optional)"},"priority":{"anyOf":[{"$ref":"#/components/schemas/PriorityEnum"},{"type":"null"}],"description":"Task priority: high, medium, or low"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"List of tags"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date","description":"Due date in YYYY-MM-DD format"},"recurrence":{"anyOf":[{"$ref":"#/components/schemas/RecurrenceEnum"},{"type":"null"}],"description":"Recurrence pattern: daily, weekly, or monthly"}},"type":"object","required":["title"],"title":"TaskCreate","description":"Task creation schema - validates task creation requests.\nOnly title is required, all other fields are optional."},"TaskResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"completed":{"type":"boolean","title":"Completed"},"priority":{"anyOf":[{"$ref":"#/components/schemas/PriorityEnum"},{"type":"null"}]},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"recurrence":{"anyOf":[{"$ref":"#/components/schemas/RecurrenceEnum"},{"type":"null"}]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","user_id","title","completed","created_at","updated_at"],"title":"TaskResponse","description":"Task response schema - returned from API endpoints.\nIncludes all task fields with proper type conversion from SQLModel."},"TaskUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Title","description":"Task title"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description","description":"Task description"},"priority":{"anyOf":[{"$ref":"#/components/schemas/PriorityEnum"},{"type":"null"}],"description":"Task priority: high, medium, or low"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"List of tags"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date","description":"Due date in YYYY-MM-DD format"},"recurrence":{"anyOf":[{"$ref":"#/components/schemas/RecurrenceEnum"},{"type":"null"}],"description":"Recurrence pattern: daily, weekly, or monthly"}},"type":"object","title":"TaskUpdate","description":"Task update schema - validates task update requests.\nAll fields are optional for partial updates."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}